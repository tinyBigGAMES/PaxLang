module exe sets;

// Test set types and operations

type
  TDigits = set of 0..9;
  TFlags = set of 0..31;

var
  digits: TDigits;
  flags: TFlags;
  evens: TDigits;
  odds: TDigits;
  n: int32;
  hasFlag: boolean;

begin
  // Empty set
  digits := {};
  
  // Set literal with values
  digits := {1, 2, 3};
  
  // Set literal with range
  evens := {0, 2, 4, 6, 8};
  odds := {1, 3, 5, 7, 9};
  
  // Mixed values and ranges
  digits := {0, 2..5, 8, 9};
  
  // Set membership test (in operator)
  n := 3;
  hasFlag := n in digits;  // true
  
  n := 7;
  hasFlag := n in digits;  // false
  
  // Flags
  flags := {0, 1, 4, 8};
  
  // Check flag
  hasFlag := 4 in flags;  // true
  hasFlag := 5 in flags;  // false
  
  // Use in condition
  n := 5;
  if n in evens then
    n := 0;
  else
    n := 1;
  end;
  
  // Range in condition
  if n in {0..10} then
    hasFlag := true;
  end;
  
end.
